<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <parent>
        <artifactId>external-osgi-bundles</artifactId>
        <groupId>org.motechproject</groupId>
        <version>1.0.14</version>
    </parent>
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.motechproject</groupId>
    <artifactId>org.motechproject.spring-web</artifactId>
    <version>${pkgVersion}-${release.tag}</version>
    <packaging>bundle</packaging>

    <properties>
        <pkgGroupId>org.springframework</pkgGroupId>
        <pkgArtifactId>spring-web</pkgArtifactId>
        <modules.root.dir>${basedir}/..</modules.root.dir>
        <pkgVersion>4.3.12.RELEASE</pkgVersion>
    </properties>
    <dependencies>
        <dependency>
        <groupId>${pkgGroupId}</groupId>
        <artifactId>${pkgArtifactId}</artifactId>
        <version>${pkgVersion}</version>
        <exclusions>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-aop</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-beans</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-context</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-core</artifactId>
            </exclusion>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring-oxm</artifactId>
            </exclusion>
        </exclusions>
        </dependency>
    </dependencies>

    <build>
        <plugins>

            <plugin>
                <artifactId>maven-dependency-plugin</artifactId>
                <executions>
                    <execution>
                        <id>unpack-sources</id>
                        <goals>
                            <goal>unpack</goal>
                        </goals>
                        <phase>package</phase>
                        <configuration>
                            <outputDirectory>${project.build.directory}/sources</outputDirectory>
                            <artifactItems>
                                <artifactItem>
                                    <groupId>${pkgGroupId}</groupId>
                                    <artifactId>${pkgArtifactId}</artifactId>
                                    <version>${pkgVersion}</version>
                                    <classifier>sources</classifier>
                                </artifactItem>
                            </artifactItems>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <artifactId>maven-assembly-plugin</artifactId>
            </plugin>


            <plugin>
                <groupId>org.apache.felix</groupId>
                <artifactId>maven-bundle-plugin</artifactId>
                <version>3.5.1</version>
                <extensions>true</extensions>
                <configuration>
                    <instructions>
                        <Export-Package>
                            org.springframework.http;version="4.3.12.RELEASE";uses
                            :="org.springframework.core.io,org.springframework.core.io.support,or
                            g.springframework.util",org.springframework.http.client;version="4.3.
                            12.RELEASE";uses:="com.squareup.okhttp,io.netty.channel,io.netty.chan
                            nel.socket,io.netty.handler.ssl,okhttp3,org.apache.http.client,org.ap
                            ache.http.client.config,org.apache.http.client.methods,org.apache.htt
                            p.impl.client,org.apache.http.impl.nio.client,org.apache.http.nio.cli
                            ent,org.apache.http.protocol,org.springframework.beans.factory,org.sp
                            ringframework.core.task,org.springframework.http,org.springframework.
                            util.concurrent",org.springframework.http.client.support;version="4.3
                            .12.RELEASE";uses:="org.apache.commons.logging,org.springframework.be
                            ans.factory,org.springframework.http,org.springframework.http.client"
                            ,org.springframework.http.converter;version="4.3.12.RELEASE";uses:="j
                            avax.imageio,org.apache.commons.logging,org.springframework.core,org.
                            springframework.core.convert,org.springframework.core.io,org.springfr
                            amework.core.io.support,org.springframework.http,org.springframework.
                            util",org.springframework.http.converter.feed;version="4.3.12.RELEASE
                            ";uses:="com.rometools.rome.feed,com.rometools.rome.feed.atom,com.rom
                            etools.rome.feed.rss,org.springframework.http,org.springframework.htt
                            p.converter",org.springframework.http.converter.json;version="4.3.12.
                            RELEASE";uses:="com.fasterxml.jackson.annotation,com.fasterxml.jackso
                            n.core,com.fasterxml.jackson.databind,com.fasterxml.jackson.databind.
                            cfg,com.fasterxml.jackson.databind.deser,com.fasterxml.jackson.databi
                            nd.introspect,com.fasterxml.jackson.databind.jsontype,com.fasterxml.j
                            ackson.databind.ser,com.fasterxml.jackson.databind.util,com.google.gs
                            on,com.google.gson.reflect,org.springframework.beans.factory,org.spri
                            ngframework.beans.factory.config,org.springframework.context,org.spri
                            ngframework.http,org.springframework.http.converter",org.springframew
                            ork.http.converter.protobuf;version="4.3.12.RELEASE";uses:="com.googl
                            e.protobuf,org.springframework.http,org.springframework.http.converte
                            r",org.springframework.http.converter.support;version="4.3.12.RELEASE
                            ";uses:="org.springframework.http.converter",org.springframework.http
                            .converter.xml;version="4.3.12.RELEASE";uses:="com.fasterxml.jackson.
                            databind,javax.xml.bind,javax.xml.stream,javax.xml.transform,org.spri
                            ngframework.http,org.springframework.http.converter,org.springframewo
                            rk.http.converter.json,org.springframework.oxm",org.springframework.h
                            ttp.server;version="4.3.12.RELEASE";uses:="javax.servlet,javax.servle
                            t.http,org.springframework.http",org.springframework.remoting.caucho;
                            version="4.3.12.RELEASE";uses:="com.caucho.burlap.client,com.caucho.h
                            essian.client,com.caucho.hessian.io,com.caucho.hessian.server,com.sun
                            .net.httpserver,javax.servlet,javax.servlet.http,org.aopalliance.inte
                            rcept,org.springframework.beans.factory,org.springframework.remoting,
                            org.springframework.remoting.support,org.springframework.web",org.spr
                            ingframework.remoting.httpinvoker;version="4.3.12.RELEASE";uses:="com
                            .sun.net.httpserver,javax.servlet,javax.servlet.http,org.aopalliance.
                            intercept,org.apache.commons.logging,org.apache.http,org.apache.http.
                            client,org.apache.http.client.config,org.apache.http.client.methods,o
                            rg.springframework.beans.factory,org.springframework.remoting,org.spr
                            ingframework.remoting.rmi,org.springframework.remoting.support,org.sp
                            ringframework.web",org.springframework.remoting.jaxws;version="4.3.12
                            .RELEASE";uses:="com.sun.net.httpserver,javax.jws,javax.xml.namespace
                            ,javax.xml.soap,javax.xml.ws,javax.xml.ws.handler,javax.xml.ws.soap,o
                            rg.aopalliance.intercept,org.apache.commons.logging,org.springframewo
                            rk.beans.factory,org.springframework.core.io,org.springframework.remo
                            ting.soap",org.springframework.web;version="4.3.12.RELEASE";uses:="ja
                            vax.servlet,javax.servlet.annotation,javax.servlet.http,org.springfra
                            mework.http",org.springframework.web.accept;version="4.3.12.RELEASE";
                            uses:="javax.servlet,org.springframework.beans.factory,org.springfram
                            ework.core.io,org.springframework.http,org.springframework.web,org.sp
                            ringframework.web.context,org.springframework.web.context.request,org
                            .springframework.web.util",org.springframework.web.bind;version="4.3.
                            12.RELEASE";uses:="javax.servlet,org.springframework.beans,org.spring
                            framework.core,org.springframework.validation,org.springframework.web
                            .multipart,org.springframework.web.util",org.springframework.web.bind
                            .annotation;version="4.3.12.RELEASE";uses:="org.springframework.core.
                            annotation,org.springframework.http,org.springframework.stereotype",o
                            rg.springframework.web.bind.annotation.support;version="4.3.12.RELEAS
                            E";uses:="org.springframework.core,org.springframework.http,org.sprin
                            gframework.http.converter,org.springframework.ui,org.springframework.
                            web.bind,org.springframework.web.bind.annotation,org.springframework.
                            web.bind.support,org.springframework.web.context.request",org.springf
                            ramework.web.bind.support;version="4.3.12.RELEASE";uses:="javax.valid
                            ation,org.springframework.beans,org.springframework.core,org.springfr
                            amework.core.convert,org.springframework.validation,org.springframewo
                            rk.web.bind,org.springframework.web.context,org.springframework.web.c
                            ontext.request",org.springframework.web.client;version="4.3.12.RELEAS
                            E";uses:="org.springframework.core,org.springframework.core.task,org.
                            springframework.http,org.springframework.http.client,org.springframew
                            ork.http.client.support,org.springframework.http.converter,org.spring
                            framework.util.concurrent,org.springframework.web.util",org.springfra
                            mework.web.client.support;version="4.3.12.RELEASE";uses:="org.apache.
                            commons.logging,org.springframework.http.client,org.springframework.w
                            eb.client",org.springframework.web.context;version="4.3.12.RELEASE";u
                            ses:="javax.servlet,org.apache.commons.logging,org.springframework.be
                            ans.factory,org.springframework.context,org.springframework.core.env,
                            org.springframework.web",org.springframework.web.context.annotation;v
                            ersion="4.3.12.RELEASE";uses:="org.springframework.context.annotation
                            ,org.springframework.core.annotation",org.springframework.web.context
                            .request;version="4.3.12.RELEASE";uses:="javax.faces.context,javax.se
                            rvlet,javax.servlet.http,org.apache.log4j,org.springframework.beans.f
                            actory,org.springframework.beans.factory.config,org.springframework.h
                            ttp,org.springframework.ui",org.springframework.web.context.request.a
                            sync;version="4.3.12.RELEASE";uses:="javax.servlet,javax.servlet.http
                            ,org.springframework.beans.factory,org.springframework.core.task,org.
                            springframework.web.context.request",org.springframework.web.context.
                            support;version="4.3.12.RELEASE";uses:="groovy.lang,javax.servlet,jav
                            ax.servlet.http,org.apache.commons.logging,org.springframework.beans,
                            org.springframework.beans.factory,org.springframework.beans.factory.c
                            onfig,org.springframework.beans.factory.groovy,org.springframework.be
                            ans.factory.support,org.springframework.beans.factory.xml,org.springf
                            ramework.context,org.springframework.context.annotation,org.springfra
                            mework.context.support,org.springframework.core.env,org.springframewo
                            rk.core.io,org.springframework.core.io.support,org.springframework.ui
                            .context,org.springframework.web.context",org.springframework.web.cor
                            s;version="4.3.12.RELEASE";uses:="javax.servlet.http,org.springframew
                            ork.http,org.springframework.http.server,org.springframework.util,org
                            .springframework.web.util",org.springframework.web.filter;version="4.
                            3.12.RELEASE";uses:="javax.servlet,javax.servlet.http,org.apache.comm
                            ons.logging,org.apache.log4j,org.springframework.beans,org.springfram
                            ework.beans.factory,org.springframework.context,org.springframework.c
                            ore.env,org.springframework.http,org.springframework.http.converter,o
                            rg.springframework.web.context,org.springframework.web.cors",org.spri
                            ngframework.web.jsf;version="4.3.12.RELEASE";uses:="javax.faces.appli
                            cation,javax.faces.context,javax.faces.event,org.springframework.bean
                            s.factory,org.springframework.web.context",org.springframework.web.js
                            f.el;version="4.3.12.RELEASE";uses:="javax.el,org.apache.commons.logg
                            ing,org.springframework.beans.factory,org.springframework.beans.facto
                            ry.access.el,org.springframework.web.context",org.springframework.web
                            .method;version="4.3.12.RELEASE";uses:="org.apache.commons.logging,or
                            g.springframework.beans.factory,org.springframework.context,org.sprin
                            gframework.core,org.springframework.core.annotation,org.springframewo
                            rk.http,org.springframework.util",org.springframework.web.method.anno
                            tation;version="4.3.12.RELEASE";uses:="javax.servlet,org.apache.commo
                            ns.logging,org.springframework.beans,org.springframework.beans.factor
                            y.config,org.springframework.core,org.springframework.core.convert,or
                            g.springframework.util,org.springframework.web.bind,org.springframewo
                            rk.web.bind.support,org.springframework.web.context.request,org.sprin
                            gframework.web.method,org.springframework.web.method.support,org.spri
                            ngframework.web.util",org.springframework.web.method.support;version=
                            "4.3.12.RELEASE";uses:="org.apache.commons.logging,org.springframewor
                            k.core,org.springframework.core.convert,org.springframework.http,org.
                            springframework.ui,org.springframework.web.bind.support,org.springfra
                            mework.web.context.request,org.springframework.web.method,org.springf
                            ramework.web.util",org.springframework.web.multipart;version="4.3.12.
                            RELEASE";uses:="javax.servlet.http,org.springframework.core,org.sprin
                            gframework.core.io,org.springframework.http,org.springframework.util"
                            ,org.springframework.web.multipart.commons;version="4.3.12.RELEASE";u
                            ses:="javax.servlet,javax.servlet.http,org.apache.commons.fileupload,
                            org.apache.commons.fileupload.disk,org.apache.commons.logging,org.spr
                            ingframework.core.io,org.springframework.util,org.springframework.web
                            .context,org.springframework.web.multipart",org.springframework.web.m
                            ultipart.support;version="4.3.12.RELEASE";uses:="javax.servlet,javax.
                            servlet.http,org.springframework.beans.propertyeditors,org.springfram
                            ework.core,org.springframework.http,org.springframework.http.server,o
                            rg.springframework.util,org.springframework.web.filter,org.springfram
                            ework.web.multipart",org.springframework.web.util;version="4.3.12.REL
                            EASE";uses:="javax.servlet,javax.servlet.http,javax.servlet.jsp.tagex
                            t,org.apache.commons.logging,org.springframework.http,org.springframe
                            work.util"
                        </Export-Package>
                        <Import-Package>
                            com.squareup.okhttp.internal.http;resolution:=optional,
                            javax.net.ssl, okhttp3.internal.http;resolution:=optional,
                            com.caucho.*;version="[4,5)";resolution:=optional,
                            com.fasterxml.jackson.*;version="[2,3)";resolution:=optional,
                            com.google.gson;version="[2.3,3)";resolution:=optional,
                            com.google.gson.reflect;version="[2.3,3)";resolution:=optional,
                            com.google.protobuf;version="[2.6,3)";resolution:=optional,
                            com.googlecode.protobuf.format;resolution:=optional,
                            com.squareup.okhttp;version="[2.4,3)";resolution:=optional,
                            com.rometools.rome.feed;version="[1.5,2)";resolution:=optional,
                            com.rometools.rome.feed.atom;version="[1.5,2)";resolution:=optional,
                            com.rometools.rome.feed.rss;version="[1.5,2)";resolution:=optional,
                            com.rometools.rome.io;version="[1.5,2)";resolution:=optional,
                            com.sun.net.*;resolution:=optional,
                            groovy.lang;version="[2.4,3)";resolution:=optional,
                            io.netty.bootstrap;resolution:=optional,
                            io.netty.buffer;resolution:=optional,
                            io.netty.channel;resolution:=optional,
                            io.netty.channel.nio;resolution:=optional,
                            io.netty.channel.socket;resolution:=optional,
                            io.netty.channel.socket.nio;resolution:=optional,
                            io.netty.handler.codec.http;resolution:=optional,
                            io.netty.handler.ssl;resolution:=optional,
                            io.netty.handler.timeout;resolution:=optional,
                            io.netty.util.concurrent;resolution:=optional,
                            javax.activation.*;resolution:=optional,
                            javax.el.*;resolution:=optional,
                            javax.faces.*;resolution:=optional,
                            javax.imageio.*;resolution:=optional,
                            javax.jws.*;resolution:=optional,
                            javax.mail.internet;resolution:=optional,
                            javax.portlet.*;resolution:=optional,
                            javax.servlet,
                            javax.servlet.http,
                            javax.servlet.annotation;resolution:=optional,
                            javax.servlet.jsp.*;resolution:=optional,
                            javax.validation;resolution:=optional,
                            javax.xml.*;resolution:=optional,
                            okhttp3;resolution:=optional,
                            org.aopalliance.*;version="[1,2)",
                            org.apache.commons.fileupload.*;version="[1.3,2)";resolution:=optional,
                            org.apache.commons.logging.*;version="[1.1.1,2)",
                            org.apache.http.*;version="[4,5)";resolution:=optional,
                            org.apache.log4j.*;version="[1.2,2)";resolution:=optional,
                            org.springframework.aop.*;version="[${pkgVersion},4.4)",
                            org.springframework.beans.*;version="[${pkgVersion},4.4)",
                            org.springframework.context.*;version="[${pkgVersion},4.4)",
                            org.springframework.core.*;version="[${pkgVersion},4.4)",
                            org.springframework.format.support;version="[${pkgVersion},4.4)";resolution:=optional,
                            org.springframework.jndi.*;version="[${pkgVersion},4.4)";resolution:=optional,
                            org.springframework.oxm.*;version="[${pkgVersion},4.4)";resolution:=optional,
                            org.springframework.remoting.*;version="[${pkgVersion},4.4)";resolution:=optional,
                            org.springframework.stereotype.*;version="[${pkgVersion},4.4)";resolution:=optional,
                            org.springframework.ui.*;version="[${pkgVersion},4.4)",
                            org.springframework.util.*;version="[${pkgVersion},4.4)",
                            org.springframework.validation.*;version="[${pkgVersion},4.4)",
                            org.joda.time;version="[2,3)";resolution:=optional,
                            org.joda.time.format;version="[2,3)";resolution:=optional,
                            com.fasterxml.jackson.datatype.joda.*;version="[2,3)";resolution:=optional,
                            org.xml.sax.*;resolution:=optional,
                            org.w3c.dom.*;resolution:=optional
                        </Import-Package>
                        <Private-Package>
                            META-INF.services*
                        </Private-Package>
                        <Bundle-Vendor>Spring web</Bundle-Vendor>
                        <Bundle-SymbolicName>${project.artifactId}</Bundle-SymbolicName>
                        <Embed-Dependency>${pkgArtifactId};inline=META-INF/services|META-INF/web-fragment.xml</Embed-Dependency>
                    </instructions>
                </configuration>
            </plugin>
        </plugins>
    </build>


</project>